(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"/GLe":function(n,t,e){"use strict";e.r(t),e.d(t,"_frontmatter",(function(){return h})),e.d(t,"default",(function(){return y}));e("5hJT"),e("W1QL"),e("K/PF"),e("t91x"),e("75LO"),e("PJhk"),e("asZ9");var a=e("mXGw"),o=e("/FXl"),r=e("TjRS"),s=e("5gP9"),p=(e("xDII"),e("sSMd")),c=e.n(p),i=e("JZbt"),d=e("uczm"),l=e("ZFoC");e("aD51");function u(){return(u=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function b(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function g(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var h={};void 0!==h&&h&&h===Object(h)&&Object.isExtensible(h)&&!h.hasOwnProperty("__filemeta")&&Object.defineProperty(h,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"components/upload/Upload.mdx"}});m="Example";var m,f={_frontmatter:h},_=r.a;function y(n){var t,e,p,m,y,j,O,U=this,x=n.components,P=function(n,t){if(null==n)return{};var e,a,o={},r=Object.keys(n);for(a=0;a<r.length;a++)e=r[a],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,["components"]);return Object(o.b)(_,u({},f,P,{components:x,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"upload"},"Upload"),Object(o.b)("h2",{id:"props--methods"},"Props & Methods"),Object(o.b)(l.d,{of:s.a,mdxType:"Props"}),Object(o.b)("h2",{id:"basic-usage"},"Basic Usage"),Object(o.b)(l.c,{__position:1,__code:'() => {\n  class Example extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        hasImg: 0,\n        src: \'\',\n      }\n    }\n    render() {\n      return (\n        <>\n          <RcUpload\n            action="/cgi/upload"\n            onSuccess={(response, file) => {\n              this.setState({\n                hasImg: 1,\n                src: response.path,\n              })\n              console.log(file)\n            }}\n          >\n            <Button>Click to Upload</Button>\n          </RcUpload>\n          {this.state.hasImg ? (\n            <img alt="demo1" width="100" src={state.demo1Src} />\n          ) : null}\n        </>\n      )\n    }\n  }\n  return <Example />\n}',__scope:(t={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},t.DefaultLayout=r.a,t._frontmatter=h,t),mdxType:"Playground"},(function(){var n=function(n){function t(t){var e;return(e=n.call(this,t)||this).state={hasImg:0,src:""},e}return g(t,n),t.prototype.render=function(){var n=this;return Object(o.b)(a.Fragment,null,Object(o.b)(c.a,{action:"/cgi/upload",onSuccess:function(t,e){n.setState({hasImg:1,src:t.path}),console.log(e)},mdxType:"RcUpload"},Object(o.b)(i.a,{mdxType:"Button"},"Click to Upload")),this.state.hasImg?Object(o.b)("img",{alt:"demo1",width:"100",src:state.demo1Src}):null)},t}(a.Component);return Object(o.b)(n,{mdxType:"Example"})})),Object(o.b)("h2",{id:"built-in-basic-style"},"Built-in Basic Style"),Object(o.b)(l.c,{__position:2,__code:"<Upload\n  action=\"/cgi/upload\"\n  getImgInfo={response => {\n    return {\n      name: '内置基础样式',\n      src: response.path,\n    }\n  }}\n/>",__scope:(e={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},e.DefaultLayout=r.a,e._frontmatter=h,e),mdxType:"Playground"},Object(o.b)(s.a,{action:"/cgi/upload",getImgInfo:function(n){return{name:"内置基础样式",src:n.path}},mdxType:"Upload"})),Object(o.b)("h2",{id:"with-descriptions"},"With Descriptions"),Object(o.b)(l.c,{__position:3,__code:'<Upload\n  action="/cgi/upload"\n  getImgInfo={response => {\n    return {\n      name: \'描述信息\',\n      src: response.path,\n    }\n  }}\n  desc={\n    <div>\n      <span>\n        图片要求\n        <a\n          href="http://ke.qq.com/docs/cover-description.jpg"\n          className="nor-link"\n          target="_blank"\n        >\n          点击查看课程封面模版规范\n        </a>\n      </span>\n      <br />\n      <span>尺寸大于 1080*608 分辨率小于 96dpi</span>\n      <br />\n      <span>大小小于 2M</span>\n      <br />\n      <span>支持 JPG/PNG/BMP 等格式图片</span>\n    </div>\n  }\n/>',__scope:(p={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},p.DefaultLayout=r.a,p._frontmatter=h,p),mdxType:"Playground"},Object(o.b)(s.a,{action:"/cgi/upload",getImgInfo:function(n){return{name:"描述信息",src:n.path}},desc:Object(o.b)("div",null,Object(o.b)("span",null,"图片要求",Object(o.b)("a",{href:"http://ke.qq.com/docs/cover-description.jpg",className:"nor-link",target:"_blank"},"点击查看课程封面模版规范")),Object(o.b)("br",null),Object(o.b)("span",null,"尺寸大于 1080*608 分辨率小于 96dpi"),Object(o.b)("br",null),Object(o.b)("span",null,"大小小于 2M"),Object(o.b)("br",null),Object(o.b)("span",null,"支持 JPG/PNG/BMP 等格式图片")),mdxType:"Upload"})),Object(o.b)("h2",{id:"disabled"},"Disabled"),Object(o.b)(l.c,{__position:4,__code:"<Upload\n  disabled\n  action=\"/cgi/upload\"\n  getImgInfo={response => {\n    return {\n      name: '禁用',\n      src: response.path,\n    }\n  }}\n/>",__scope:(m={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},m.DefaultLayout=r.a,m._frontmatter=h,m),mdxType:"Playground"},Object(o.b)(s.a,{disabled:!0,action:"/cgi/upload",getImgInfo:function(n){return{name:"禁用",src:n.path}},mdxType:"Upload"})),Object(o.b)("h2",{id:"work-with-validator"},"Work with Validator"),Object(o.b)(l.c,{__position:5,__code:'<Validator ref={instance => (this.uploadValidator = instance)}>\n  <Upload\n    name="upload"\n    action="/cgi/upload"\n    getImgInfo={response => {\n      return {\n        name: \'默认图片\',\n        src: response.path,\n      }\n    }}\n    data-required\n    data-required-msg="上传图片不能为空"\n    data-patterns={[]}\n    onChange={() => this.uploadValidator.checkField(undefined, \'upload\')}\n    msgAlign="right"\n  />\n</Validator>',__scope:(y={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},y.DefaultLayout=r.a,y._frontmatter=h,y),mdxType:"Playground"},Object(o.b)(d.a,{ref:function(n){return U.uploadValidator=n},mdxType:"Validator"},Object(o.b)(s.a,{name:"upload",action:"/cgi/upload",getImgInfo:function(n){return{name:"默认图片",src:n.path}},"data-required":!0,"data-required-msg":"上传图片不能为空","data-patterns":[],onChange:function(){return U.uploadValidator.checkField(void 0,"upload")},msgAlign:"right",mdxType:"Upload"}))),Object(o.b)("h2",{id:"onchange--beforeupload"},"onChange & beforeUpload"),Object(o.b)(l.c,{__position:6,__code:"() => {\n  class Example extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        status: 'Nothing uploaded',\n      }\n      this.beforeUpload = this.beforeUpload.bind(this)\n      this.onChange = this.onChange.bind(this)\n      this.changeStatus = this.changeStatus.bind(this)\n    }\n    beforeUpload() {\n      this.changeStatus('beforeUpload')\n    }\n    onChange(file) {\n      console.log('onChange', file)\n      this.changeStatus(file.status)\n    }\n    changeStatus(s) {\n      let { status } = this.state\n      status = status.split('>')\n      status.push(s)\n      this.setState({\n        status: status.join('>'),\n      })\n    }\n    render() {\n      return (\n        <>\n          <p>状态： {this.state.status}</p>\n          <br />\n          <Upload\n            action=\"/cgi/upload\"\n            getImgInfo={response => {\n              return {\n                name: 'onChange 事件',\n                src: response.path,\n              }\n            }}\n            beforeUpload={this.beforeUpload}\n            onChange={this.onChange}\n          />\n        </>\n      )\n    }\n  }\n  return <Example />\n}",__scope:(j={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},j.DefaultLayout=r.a,j._frontmatter=h,j),mdxType:"Playground"},(function(){var n=function(n){function t(t){var e;return(e=n.call(this,t)||this).state={status:"Nothing uploaded"},e.beforeUpload=e.beforeUpload.bind(b(e)),e.onChange=e.onChange.bind(b(e)),e.changeStatus=e.changeStatus.bind(b(e)),e}g(t,n);var e=t.prototype;return e.beforeUpload=function(){this.changeStatus("beforeUpload")},e.onChange=function(n){console.log("onChange",n),this.changeStatus(n.status)},e.changeStatus=function(n){var t=this.state.status;(t=t.split(">")).push(n),this.setState({status:t.join(">")})},e.render=function(){return Object(o.b)(a.Fragment,null,Object(o.b)("p",null,"状态： ",this.state.status),Object(o.b)("br",null),Object(o.b)(s.a,{action:"/cgi/upload",getImgInfo:function(n){return{name:"onChange 事件",src:n.path}},beforeUpload:this.beforeUpload,onChange:this.onChange,mdxType:"Upload"}))},t}(a.Component);return Object(o.b)(n,{mdxType:"Example"})})),Object(o.b)("h2",{id:"default-image"},"Default Image"),Object(o.b)(l.c,{__position:7,__code:'<Upload\n  action="/cgi/upload"\n  src="//8.url.cn/edu/edu_modules/edu-ui/img/bg/logo192-3x.e89120ba.png#unsprite"\n  getImgInfo={response => {\n    return {\n      name: \'默认图片\',\n      src: response.path,\n    }\n  }}\n/>',__scope:(O={props:P,DefaultLayout:r.a,Upload:s.a,RcUpload:c.a,Button:i.a,Validator:d.a,Playground:l.c,Props:l.d},O.DefaultLayout=r.a,O._frontmatter=h,O),mdxType:"Playground"},Object(o.b)(s.a,{action:"/cgi/upload",src:"//8.url.cn/edu/edu_modules/edu-ui/img/bg/logo192-3x.e89120ba.png#unsprite",getImgInfo:function(n){return{name:"默认图片",src:n.path}},mdxType:"Upload"})))}void 0!==y&&y&&y===Object(y)&&Object.isExtensible(y)&&!y.hasOwnProperty("__filemeta")&&Object.defineProperty(y,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"components/upload/Upload.mdx"}}),y.isMDXComponent=!0}}]);
//# sourceMappingURL=component---components-upload-upload-mdx-6a8c5bf606c32a2f8f47.js.map